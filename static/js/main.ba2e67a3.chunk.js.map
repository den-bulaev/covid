{"version":3,"sources":["icons/confirmed.svg","icons/deaths.svg","icons/recovered.svg","components/Alert/Alert.jsx","Api/api.js","components/Countries/Countries.jsx","icons/logo.png","components/App/App.jsx","index.js"],"names":["Alert","handleClick","Country","Confirmed","Deaths","Recovered","className","src","confirmed","alt","deaths","recovered","type","onClick","React","memo","BASE_URL","request","endpoint","options","fetch","then","response","ok","Error","status","statusText","json","result","Countries","query","setFilterVisibility","setCountryInfo","useState","countries","setCountries","count","useEffect","method","getDate","dateObject","push","getFullYear","getMonth","join","event","customAlert","document","querySelector","setTimeout","classList","add","countryName","target","innerText","toLowerCase","replace","from","Date","to","getCountry","filter","includes","map","ID","TotalConfirmed","App","setQurey","filterVisibility","countryInfo","logo","id","placeholder","value","onChange","Object","keys","length","remove","ReactDOM","render","getElementById"],"mappings":"gPAAe,MAA0B,sCCA1B,MAA0B,mCCA1B,MAA0B,sC,eCSnCA,EAAQ,SAAC,GAAD,IACZC,EADY,EACZA,YAAaC,EADD,EACCA,QAASC,EADV,EACUA,UAAWC,EADrB,EACqBA,OAAQC,EAD7B,EAC6BA,UAD7B,OAGZ,qCACE,oBAAIC,UAAU,eAAd,SACGJ,IAGH,sBAAKI,UAAU,iBAAf,UACE,sBAAKA,UAAU,wBAAf,UACE,qBACEC,IAAKC,EACLC,IAAI,GACJH,UAAU,gBAEZ,mBAAGA,UAAU,cAAb,gCAGF,mBAAGA,UAAU,cAAb,SAA4BH,OAG9B,sBAAKG,UAAU,iBAAf,UACE,sBAAKA,UAAU,wBAAf,UACE,qBACEC,IAAKG,EACLD,IAAI,GACJH,UAAU,gBAEZ,mBAAGA,UAAU,cAAb,6BAGF,mBAAGA,UAAU,cAAb,SAA4BF,OAG9B,sBAAKE,UAAU,iBAAf,UACE,sBAAKA,UAAU,wBAAf,UACE,qBACEC,IAAKI,EACLF,IAAI,GACJH,UAAU,gBAEZ,mBAAGA,UAAU,cAAb,gCAGF,mBAAGA,UAAU,cAAb,SAA4BD,OAG9B,wBACEO,KAAK,SACLC,QAASZ,EACTK,UAAU,gBAHZ,oBAkBWQ,MAAMC,KAAKf,GC1EpBgB,EAAW,8BAcFC,EAZC,eAACC,EAAD,uDAAY,GAAIC,EAAhB,8CACdC,MAAMJ,EAAWE,EAAUC,GACxBE,MAAK,SAACC,GACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAJ,UAAaF,EAASG,OAAtB,cAAkCH,EAASI,aAGnD,OAAOJ,EAASK,UAEjBN,MAAK,SAACO,GAAD,OAAYA,MCHhBC,G,MAAY,SAAC,GAAoD,IAAlDC,EAAiD,EAAjDA,MAAOC,EAA0C,EAA1CA,oBAAqBC,EAAqB,EAArBA,eAC/C,EAAkCC,mBAAS,IAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KAEIC,EAAQ,EAQZC,qBAAU,WACRpB,EAAQ,UAAW,CAAEqB,OAAQ,QAC1BjB,MAAK,SAACC,GACLa,EAAab,EAASO,gBAEzB,IAEH,IAYMU,EAAU,SAACC,GACf,IAAMZ,EAAS,GAMf,OAJAA,EAAOa,KAAKD,EAAWE,eACvBd,EAAOa,KAAKD,EAAWG,WAAa,GACpCf,EAAOa,KAAKD,EAAWD,WAEhBX,EAAOgB,KAAK,MAef3C,EAAc,SAAC4C,GACnB,IAAMC,EAAcC,SAASC,cAAc,UAE3CjB,GAAoB,GAEpBkB,YAAW,kBAAMH,EAAYI,UAAUC,IAAI,aAAY,KAjBtC,SAACN,GAClB,IAAMO,EAAcP,EAAMQ,OAAOC,UAC9BC,cACAC,QAAQ,SAAU,IAClBA,QAAQ,OAAK,KACVC,EAAOlB,EAAQ,IAAImB,KAAK,IAAIA,KAAS,QACrCC,EAAKpB,EAAQ,IAAImB,MAEvBzC,EAAQ,iBAAD,OAAkBmC,EAAlB,iBAAsCK,EAAtC,yBAA2DE,EAA3D,eACJtC,MAAK,SAACC,GAAD,OAAcU,EAAeV,EAAS,OAU9CsC,CAAWf,IAGb,OACE,qBAAIvC,UAAU,iBAAd,UACE,qBAAIA,UAAU,uBAAd,UACE,sBAAMA,UAAU,yBAAhB,oBACA,qBAAKA,UAAU,4BAAf,qBACA,qBAAKA,UAAU,4BAAf,SACE,sBAAMA,UAAU,uBAAhB,sCAjDQ,KAAVwB,EACKI,EAGFA,EAAU2B,QACf,qBAAG3D,QACAqD,cACAO,SAAShC,EAAMyB,mBA8CGQ,KAAI,gBAAGC,EAAH,EAAGA,GAAI9D,EAAP,EAAOA,QAAS+D,EAAhB,EAAgBA,eAAhB,OACvB,qBAEE3D,UAAU,uBAFZ,UAIE,qBAAKA,UAAU,yBAAf,SAvEN8B,GAAS,IAwEH,qBAAK9B,UAAU,4BAAf,SACE,qBAAKO,QAASZ,EAAaK,UAAU,+BAArC,SAAqEJ,MAEvE,qBAAKI,UAAU,4BAAf,SACE,sBAAMA,UAAU,uBAAhB,SAAwC2D,QARrCD,WAsBAlD,MAAMC,KAAKc,GCxGX,MAA0B,iC,MC+D1BqC,MArDf,WACE,MAA0BjC,mBAAS,IAAnC,mBAAOH,EAAP,KAAcqC,EAAd,KACA,EAAgDlC,oBAAS,GAAzD,mBAAOmC,EAAP,KAAyBrC,EAAzB,KACA,EAAsCE,mBAAS,IAA/C,mBAAOoC,EAAP,KAAoBrC,EAApB,KAUA,OACE,qCACE,yBAAQ1B,UAAU,SAAlB,UACE,qBACEC,IAAK+D,EACL7D,IAAI,OACJH,UAAU,iBAGZ,oBAAIA,UAAU,cAAd,uBAEA,uBACEiE,GAAG,SACH3D,KAAK,SACL4D,YAAY,YACZlE,UAAU,eACVmE,MAAO3C,EACP4C,SAAU,SAAC7B,GAAD,OAAWsB,EAAStB,EAAMQ,OAAOoB,aAI/C,qBAAKnE,UAAU,QAAf,SACuC,IAApCqE,OAAOC,KAAKP,GAAaQ,OACxB,4CAEA,cAAC,EAAD,aAAO5E,YAjCK,WACE8C,SAASC,cAAc,UAE/BE,UAAU4B,OAAO,WAC7B/C,GAAoB,GACpBC,EAAe,MA4B4BqC,MAIxCD,GAAoB,qBAAK9D,UAAU,WAEpC,cAAC,EAAD,CACEwB,MAAOA,EACPC,oBAAqBA,EACrBC,eAAgBA,QCpDxB+C,IAASC,OAEP,cAAC,EAAD,IACAjC,SAASkC,eAAe,W","file":"static/js/main.ba2e67a3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/confirmed.9257d438.svg\";","export default __webpack_public_path__ + \"static/media/deaths.842606bb.svg\";","export default __webpack_public_path__ + \"static/media/recovered.edd4f3fd.svg\";","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport confirmed from '../../icons/confirmed.svg';\nimport deaths from '../../icons/deaths.svg';\nimport recovered from '../../icons/recovered.svg';\n\nimport './Alert.scss';\n\nconst Alert = ({\n  handleClick, Country, Confirmed, Deaths, Recovered,\n}) => (\n  <>\n    <h2 className=\"alert__title\">\n      {Country}\n    </h2>\n\n    <div className=\"alert__wrapper\">\n      <div className=\"alert__info-with-icon\">\n        <img\n          src={confirmed}\n          alt=\"\"\n          className=\"alert__icon\"\n        />\n        <p className=\"alert__text\">Total Confirmed</p>\n      </div>\n\n      <p className=\"alert__text\">{Confirmed}</p>\n    </div>\n\n    <div className=\"alert__wrapper\">\n      <div className=\"alert__info-with-icon\">\n        <img\n          src={deaths}\n          alt=\"\"\n          className=\"alert__icon\"\n        />\n        <p className=\"alert__text\">Total Deaths</p>\n      </div>\n\n      <p className=\"alert__text\">{Deaths}</p>\n    </div>\n\n    <div className=\"alert__wrapper\">\n      <div className=\"alert__info-with-icon\">\n        <img\n          src={recovered}\n          alt=\"\"\n          className=\"alert__icon\"\n        />\n        <p className=\"alert__text\">Total Recovered</p>\n      </div>\n\n      <p className=\"alert__text\">{Recovered}</p>\n    </div>\n\n    <button\n      type=\"button\"\n      onClick={handleClick}\n      className=\"alert__button\"\n    >\n      ok\n    </button>\n  </>\n);\n\nAlert.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n  Country: PropTypes.string.isRequired,\n  Recovered: PropTypes.number.isRequired,\n  Confirmed: PropTypes.number.isRequired,\n  Deaths: PropTypes.number.isRequired,\n};\n\nexport default React.memo(Alert);\n","const BASE_URL = 'https://api.covid19api.com/';\n\nconst request = (endpoint = '', options) => (\n  fetch(BASE_URL + endpoint, options)\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error(`${response.status} - ${response.statusText}`);\n      }\n\n      return response.json();\n    })\n    .then((result) => result)\n);\n\nexport default request;\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport request from '../../Api/api';\n\nimport './Countries.scss';\n\nconst Countries = ({ query, setFilterVisibility, setCountryInfo }) => {\n  const [countries, setCountries] = useState([]);\n\n  let count = 0;\n\n  const getCountryNumber = () => {\n    count += 1;\n\n    return count;\n  };\n\n  useEffect(() => {\n    request('summary', { method: 'GET' })\n      .then((response) => {\n        setCountries(response.Countries);\n      });\n  }, []);\n\n  const filteredCountries = () => {\n    if (query === '') {\n      return countries;\n    }\n\n    return countries.filter(\n      ({ Country }) => Country\n        .toLowerCase()\n        .includes(query.toLowerCase()),\n    );\n  };\n\n  const getDate = (dateObject) => {\n    const result = [];\n\n    result.push(dateObject.getFullYear());\n    result.push(dateObject.getMonth() + 1);\n    result.push(dateObject.getDate());\n\n    return result.join('-');\n  };\n\n  const getCountry = (event) => {\n    const countryName = event.target.innerText\n      .toLowerCase()\n      .replace(/[()']/g, '')\n      .replace(/ô/, 'o');\n    const from = getDate(new Date(new Date() - 86400000));\n    const to = getDate(new Date());\n\n    request(`total/country/${countryName}?from=${from}T00:00:00Z&to=${to}T00:00:00Z`)\n      .then((response) => setCountryInfo(response[0]));\n  };\n\n  const handleClick = (event) => {\n    const customAlert = document.querySelector('.alert');\n\n    setFilterVisibility(true);\n\n    setTimeout(() => customAlert.classList.add('visible'), 300);\n\n    getCountry(event);\n  };\n\n  return (\n    <ul className=\"countries-list\">\n      <li className=\"countries-list__item\">\n        <span className=\"countries-list__number\">№</span>\n        <div className=\"countries-list__container\">Country</div>\n        <div className=\"countries-list__container\">\n          <span className=\"countries-list__info\">Total&nbsp;Confirmed</span>\n        </div>\n      </li>\n\n      {filteredCountries().map(({ ID, Country, TotalConfirmed }) => (\n        <li\n          key={ID}\n          className=\"countries-list__item\"\n        >\n          <div className=\"countries-list__number\">{getCountryNumber()}</div>\n          <div className=\"countries-list__container\">\n            <pre onClick={handleClick} className=\"countries-list__country-name\">{Country}</pre>\n          </div>\n          <div className=\"countries-list__container\">\n            <span className=\"countries-list__info\">{TotalConfirmed}</span>\n          </div>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nCountries.propTypes = {\n  query: PropTypes.string.isRequired,\n  setFilterVisibility: PropTypes.func.isRequired,\n  setCountryInfo: PropTypes.func.isRequired,\n};\n\nexport default React.memo(Countries);\n","export default __webpack_public_path__ + \"static/media/logo.588ddb26.png\";","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useState } from 'react';\n\nimport Alert from '../Alert/Alert';\nimport Countries from '../Countries/Countries';\nimport logo from '../../icons/logo.png';\n// import loupe from '../../icons/loupe.svg';\n\nimport './App.scss';\n\nfunction App() {\n  const [query, setQurey] = useState('');\n  const [filterVisibility, setFilterVisibility] = useState(false);\n  const [countryInfo, setCountryInfo] = useState({});\n\n  const handleClick = () => {\n    const customAlert = document.querySelector('.alert');\n\n    customAlert.classList.remove('visible');\n    setFilterVisibility(false);\n    setCountryInfo({});\n  };\n\n  return (\n    <>\n      <header className=\"header\">\n        <img\n          src={logo}\n          alt=\"logo\"\n          className=\"header__logo\"\n        />\n\n        <h1 className=\"header-text\">STATISTIC</h1>\n\n        <input\n          id=\"search\"\n          type=\"search\"\n          placeholder=\"Search...\"\n          className=\"search-field\"\n          value={query}\n          onChange={(event) => setQurey(event.target.value)}\n        />\n      </header>\n\n      <div className=\"alert\">\n        {Object.keys(countryInfo).length === 0 ? (\n          <h2>Loading...</h2>\n        ) : (\n          <Alert handleClick={handleClick} {...countryInfo} />\n        )}\n      </div>\n\n      {filterVisibility && <div className=\"filter\" />}\n\n      <Countries\n        query={query}\n        setFilterVisibility={setFilterVisibility}\n        setCountryInfo={setCountryInfo}\n      />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './components/App/App';\n\nReactDOM.render(\n  // eslint-disable-next-line react/jsx-filename-extension\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}